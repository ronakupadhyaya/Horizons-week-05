<div class="container-fluid">
  <div class="row">
    <div class="col-md-6 col-md-offset-2">
      {{#each products}} 
        <a href="/products/{{this._id}}">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">{{this.title}}</h3>
            </div>
            <div class="panel-body">
              <div style="width: 250px; display:inline-block">
                <img src="{{this.imageUri}}" style="float-left; width:100%; height: auto;">
              </div>
              <div style="display:inline-block ">
                {{this.description}}
              </div>
              <div style="">
                <form action="/cart/add/{{this._id}}" method="POST" role="form">
                  
                  <button type="submit" class="btn btn-primary">Add To Cart</button>
                </form>
              </div>
              
              
            </div>
          </div>
        </a>
      {{/each}}
    </div>
    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Shopping Cart</h3>
        </div>
        <div id="shoppingCart" class="panel-body">
          {{#each cart}}
            <div id="delete{{this._id}}">
              <h4>{{this.title}}</h4>
              <button  type="button" onclick="removeFromCart('{{this._id}}')" class="btn btn-default">Delete</button>
            </div>
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>
<script>
function removeFromCart(id) {
  $.ajax({
    url: "/cart/delete/" + id ,
    method: "DELETE",
    success: function() {
      console.log("inside success callback");
      $("#delete" + id).remove();
    }
  })
}

function addToCart(id) {
  var toAdd = $()
  $.ajax( {
    url: "/cart/add/" + id,
    method: "POST",
    success: function() {
      $("#shoppingCart").append($(""))
    }
  })
}

</script>
