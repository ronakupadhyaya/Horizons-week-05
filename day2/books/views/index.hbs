<h1>Books</h1>

<a href="" class="btn btn-default" id="prev">Previous Page</a>
<a href="" class="btn btn-default" id="next">Next Page</a>

<table class="table table-striped table-bordered">
  <tr>
    <th>
      Title
    </th>
  </tr>
{{#each books}}
  <tr>
    <td>
      {{title}}
    </td>
  </td>
{{/each}}
</table>
<script type="text/javascript">
  function getUrlVars() {
      var vars = [], hash;
      var hashes = window.location.href.slice(window.location.href.indexOf('?') +1).split('&');
      for(var i = 0; i < hashes.length; i++)
      {
          hash = hashes[i].split('=');
          vars.push(hash[0]);
          vars[hash[0]] = hash[1];
      }
      return vars;
  }
  var currentPage = parseInt(getUrlVars()[getUrlVars()[0]]) || 0
  var prev = currentPage-1
  var next = currentPage+1
  if (currentPage>0) {
    $('#prev').attr('href',"?page="+prev)
  } else {
    $('#prev').hide()
  }
  if ($('tbody').children().length-1<21) {
   $('#next').hide() 
  } else {
    $('#next').attr('href',"?page="+next)
  }
  $('tr').last().hide()
</script>